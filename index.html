<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soccer Laws Quiz - Fixed Login Issue</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #2ecc71;
            --secondary: #3498db;
            --accent: #e74c3c;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --text: #333;
            --border-radius: 10px;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: var(--text);
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
        }
        
        header {
            background: var(--dark);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        header h1 {
            font-size: 2.2rem;
            margin-bottom: 5px;
        }
        
        header p {
            opacity: 0.8;
            font-size: 1.1rem;
        }
        
        .logo {
            position: absolute;
            top: 15px;
            left: 20px;
            font-size: 2rem;
            color: var(--primary);
        }
        
        /* Authentication Styles */
        .auth-container {
            display: flex;
            min-height: 500px;
            position: relative;
        }
        
        .welcome-section {
            width: 40%;
            background: linear-gradient(to bottom right, var(--secondary), var(--dark));
            color: white;
            padding: 40px 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .welcome-section h2 {
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .welcome-section p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        
        .welcome-image {
            width: 100%;
            max-width: 200px;
            margin-bottom: 30px;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.3));
        }
        
        .form-section {
            width: 60%;
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .form-container {
            max-width: 400px;
            width: 100%;
            margin: 0 auto;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid #eee;
        }
        
        .tab {
            padding: 12px 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            border-bottom: 3px solid var(--primary);
            color: var(--primary);
        }
        
        .auth-form {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .auth-form.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }
        
        .form-group input {
            width: 100%;
            padding: 14px;
            border: 2px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-group input:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .btn {
            padding: 14px 25px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: #27ae60;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .btn-secondary {
            background: var(--secondary);
            color: white;
        }
        
        .btn-secondary:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--dark);
            color: var(--dark);
        }
        
        .btn-outline:hover {
            background: var(--dark);
            color: white;
        }
        
        .divider {
            text-align: center;
            margin: 25px 0;
            position: relative;
        }
        
        .divider::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #eee;
            z-index: 1;
        }
        
        .divider span {
            background: white;
            padding: 0 15px;
            position: relative;
            z-index: 2;
            color: #777;
        }
        
        .form-footer {
            text-align: center;
            margin-top: 25px;
            color: #666;
        }
        
        .form-footer a {
            color: var(--secondary);
            text-decoration: none;
            font-weight: 600;
        }
        
        .form-footer a:hover {
            text-decoration: underline;
        }
        
        /* Quiz App Styles */
        .app-content {
            display: none;
        }
        
        .profile-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: var(--dark);
            color: white;
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 12px;
        }
        
        .logout-btn {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            font-size: 0.95rem;
        }
        
        .logout-btn i {
            margin-right: 5px;
        }
        
        .content-area {
            display: flex;
            min-height: 500px;
        }
        
        .law-selection {
            width: 35%;
            background: var(--light);
            padding: 20px;
            border-right: 2px solid #ddd;
        }
        
        .law-selection h2 {
            margin-bottom: 20px;
            color: var(--dark);
            text-align: center;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .laws-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        .law-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid var(--secondary);
            display: flex;
            align-items: center;
        }
        
        .law-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
            border-left-color: var(--primary);
        }
        
        .law-card.active {
            background: var(--primary);
            color: white;
        }
        
        .law-number {
            width: 30px;
            height: 30px;
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 15px;
            font-weight: bold;
        }
        
        .law-card.active .law-number {
            background: white;
            color: var(--primary);
        }
        
        .law-title {
            font-size: 0.95rem;
            font-weight: 500;
        }
        
        /* Quiz Interface */
        .quiz-interface {
            width: 65%;
            padding: 25px;
            display: flex;
            flex-direction: column;
        }
        
        .score-panel {
            display: flex;
            justify-content: space-between;
            background: var(--light);
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            box-shadow: var(--shadow);
        }
        
        .score-item {
            text-align: center;
            flex: 1;
        }
        
        .score-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .score-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .question-container {
            flex-grow: 1;
        }
        
        .question-header {
            margin-bottom: 20px;
        }
        
        .question-header h3 {
            color: var(--dark);
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .question-text {
            font-size: 1.3rem;
            line-height: 1.5;
            margin-bottom: 25px;
            font-weight: 500;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: var(--border-radius);
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            font-weight: 500;
        }
        
        .option:hover {
            border-color: var(--secondary);
            background: #f0f8ff;
        }
        
        .option.selected {
            border-color: var(--primary);
            background: rgba(46, 204, 113, 0.1);
        }
        
        .option.correct {
            border-color: var(--primary);
            background: rgba(46, 204, 113, 0.2);
        }
        
        .option.incorrect {
            border-color: var(--accent);
            background: rgba(231, 76, 60, 0.1);
        }
        
        .option-letter {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #eee;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 15px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .option.selected .option-letter {
            background: var(--primary);
            color: white;
        }
        
        .quiz-controls {
            display: flex;
            justify-content: space-between;
        }
        
        .start-quiz-btn {
            display: block;
            width: 100%;
            margin: 30px 0;
            padding: 15px;
            font-size: 1.2rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .auth-container {
                flex-direction: column;
            }
            
            .welcome-section, .form-section {
                width: 100%;
            }
            
            .welcome-section {
                padding: 30px 20px;
            }
            
            .form-section {
                padding: 30px 20px;
            }
            
            .content-area {
                flex-direction: column;
            }
            
            .law-selection, .quiz-interface {
                width: 100%;
            }
            
            .law-selection {
                border-right: none;
                border-bottom: 2px solid #ddd;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Authentication Section -->
        <div id="auth-section">
            <header>
                <div class="logo">
                    <i class="fa-solid fa-futbol"></i>
                </div>
                <h1>Soccer Laws Quiz</h1>
                <p>Sign up or login to test your knowledge of FIFA's 17 Laws</p>
            </header>
            
            <div class="auth-container">
                <div class="welcome-section">
                    <div class="welcome-image">
                        <i class="fa-solid fa-trophy" style="font-size: 5rem;"></i>
                    </div>
                    <h2>Become a Soccer Rules Expert</h2>
                    <p>Test your knowledge of FIFA's official Laws of the Game. Perfect for players, coaches, referees, and passionate fans.</p>
                    <p>Track your progress, earn badges, and compete with friends!</p>
                </div>
                
                <div class="form-section">
                    <div class="form-container">
                        <div class="tabs">
                            <div class="tab active" data-tab="login">Login</div>
                            <div class="tab" data-tab="signup">Sign Up</div>
                        </div>
                        
                        <!-- Login Form -->
                        <form class="auth-form active" id="login-form">
                            <div class="form-group">
                                <label for="login-email">Email Address</label>
                                <input type="email" id="login-email" placeholder="your@email.com" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="login-password">Password</label>
                                <input type="password" id="login-password" placeholder="Enter your password" required>
                            </div>
                            
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-sign-in-alt"></i> Login
                                </button>
                            </div>
                            
                            <div class="form-footer">
                                <p>Forgot your password? <a href="#" id="forgot-password">Reset it</a></p>
                            </div>
                        </form>
                        
                        <!-- Signup Form -->
                        <form class="auth-form" id="signup-form">
                            <div class="form-group">
                                <label for="signup-name">Full Name</label>
                                <input type="text" id="signup-name" placeholder="Your full name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="signup-email">Email Address</label>
                                <input type="email" id="signup-email" placeholder="your@email.com" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="signup-password">Password</label>
                                <input type="password" id="signup-password" placeholder="Create a password" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="signup-confirm">Confirm Password</label>
                                <input type="password" id="signup-confirm" placeholder="Confirm your password" required>
                            </div>
                            
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-user-plus"></i> Create Account
                                </button>
                            </div>
                            
                            <div class="form-footer">
                                <p>By signing up, you agree to our <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main App Content -->
        <div class="app-content" id="app-content">
            <div class="profile-header">
                <div class="user-info">
                    <div class="user-avatar" id="user-avatar">JS</div>
                    <div>
                        <div id="user-name">John Smith</div>
                        <div style="font-size: 0.8rem;">Score: <span id="user-score">0</span> pts</div>
                    </div>
                </div>
                <button class="logout-btn" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
            
            <div class="content-area">
                <div class="law-selection">
                    <h2>Laws of the Game</h2>
                    <div class="laws-container" id="laws-list">
                        <!-- Laws will be dynamically generated -->
                    </div>
                    <button class="btn btn-primary start-quiz-btn" id="start-quiz-btn">
                        <i class="fas fa-play"></i> Start Quiz
                    </button>
                </div>
                
                <div class="quiz-interface">
                    <div class="score-panel">
                        <div class="score-item">
                            <div class="score-value" id="current-score">0</div>
                            <div class="score-label">Total Points</div>
                        </div>
                        <div class="score-item">
                            <div class="score-value" id="questions-done">0</div>
                            <div class="score-label">Questions Done</div>
                        </div>
                        <div class="score-item">
                            <div class="score-value" id="accuracy">0%</div>
                            <div class="score-label">Accuracy</div>
                        </div>
                    </div>
                    
                    <div class="question-container">
                        <div class="question-header">
                            <h3>Current Law: <span id="current-law">Select a law to start</span></h3>
                        </div>
                        
                        <div class="question-text" id="question-text">
                            Welcome to the Soccer Laws Quiz! Select a law from the left and click "Start Quiz" to begin testing your knowledge of FIFA's official Laws of the Game.
                        </div>
                        
                        <div class="options-container" id="options-container">
                            <!-- Options will be dynamically generated -->
                        </div>
                        
                        <div class="quiz-controls">
                            <button class="btn btn-outline" id="hint-btn">
                                <i class="fas fa-lightbulb"></i> Show Hint
                            </button>
                            <button class="btn btn-primary" id="next-btn">
                                Next Question <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample questions database
        const questions = {
            law1: [
                {
                    question: "What is the minimum corner radius for a soccer pitch?",
                    options: ["1m (1yd)", "3m (3yd)", "5m (5yd)", "No minimum"],
                    answer: 0,
                    difficulty: 1,
                    hint: "The Laws specify a minimum radius for corner arcs."
                },
                {
                    question: "What is the standard length of a soccer pitch?",
                    options: ["90-120m (100-130yd)", "100-110m (110-120yd)", "80-100m (90-110yd)", "70-80m (80-90yd)"],
                    answer: 0,
                    difficulty: 1,
                    hint: "The length must be greater than the width."
                }
            ],
            law2: [
                {
                    question: "What is the standard circumference of a soccer ball?",
                    options: ["58-60cm (23-24in)", "68-70cm (27-28in)", "63-65cm (25-26in)", "70-72cm (28-29in)"],
                    answer: 1,
                    difficulty: 2,
                    hint: "Think about the size used in professional matches."
                },
                {
                    question: "At what pressure should a soccer ball be inflated?",
                    options: ["0.6-1.1 atm (9-16 psi)", "0.8-1.0 atm (12-15 psi)", "0.5-0.7 atm (7-10 psi)", "1.0-1.2 atm (15-18 psi)"],
                    answer: 0,
                    difficulty: 2,
                    hint: "This is specified in the Laws of the Game."
                }
            ],
            law3: [
                {
                    question: "How many substitutes are allowed in a standard professional match?",
                    options: ["3", "5", "7", "Unlimited"],
                    answer: 1,
                    difficulty: 1,
                    hint: "This number changed recently due to global events."
                },
                {
                    question: "What is the minimum number of players required to start a match?",
                    options: ["7", "9", "11", "10"],
                    answer: 0,
                    difficulty: 3,
                    hint: "The number is less than a full team."
                }
            ],
            law4: [
                {
                    question: "What item of equipment is mandatory for all players?",
                    options: ["Shin guards", "Gloves", "Headband", "Arm sleeves"],
                    answer: 0,
                    difficulty: 1,
                    hint: "This protects players from injury."
                },
                {
                    question: "What color must the goalkeeper's jersey be?",
                    options: ["Different from both teams and referee", "Same as team colors", "Always green", "No specific requirement"],
                    answer: 0,
                    difficulty: 2,
                    hint: "It must be distinguishable from others."
                }
            ],
            law5: [
                {
                    question: "Who has the final decision on matters of fact?",
                    options: ["Referee", "Assistant Referee", "Fourth Official", "VAR"],
                    answer: 0,
                    difficulty: 2,
                    hint: "This person is the ultimate authority on the field."
                },
                {
                    question: "When can a referee change a decision?",
                    options: ["Only before play restarts", "At any time during the match", "Only at halftime", "Only with VAR intervention"],
                    answer: 0,
                    difficulty: 3,
                    hint: "After restart, the decision cannot be changed."
                }
            ]
        };

        // App State
        const state = {
            currentLaw: null,
            currentQuestion: 0,
            score: 0,
            totalQuestions: 0,
            correctAnswers: 0,
            selectedOption: null,
            answered: false,
            lawsCompleted: {},
            quizStarted: false
        };

        // DOM Elements
        const authSection = document.getElementById('auth-section');
        const appContent = document.getElementById('app-content');
        const tabs = document.querySelectorAll('.tab');
        const authForms = document.querySelectorAll('.auth-form');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const logoutBtn = document.getElementById('logout-btn');
        const userName = document.getElementById('user-name');
        const userAvatar = document.getElementById('user-avatar');
        const userScore = document.getElementById('user-score');
        const forgotPassword = document.getElementById('forgot-password');
        const lawsList = document.getElementById('laws-list');
        const currentLawEl = document.getElementById('current-law');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const hintBtn = document.getElementById('hint-btn');
        const currentScoreEl = document.getElementById('current-score');
        const questionsDoneEl = document.getElementById('questions-done');
        const accuracyEl = document.getElementById('accuracy');
        const startQuizBtn = document.getElementById('start-quiz-btn');

        // Initialize the app
        function init() {
            setupAuthEventListeners();
            setupQuizEventListeners();
        }

        // Set up authentication event listeners
        function setupAuthEventListeners() {
            // Switch between tabs
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    // Add active class to clicked tab
                    tab.classList.add('active');
                    
                    // Show the corresponding form
                    const tabName = tab.getAttribute('data-tab');
                    authForms.forEach(form => {
                        form.classList.remove('active');
                        if (form.id === `${tabName}-form`) {
                            form.classList.add('active');
                        }
                    });
                });
            });
            
            // Handle login form submission
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                
                // Basic validation
                if (!email || !password) {
                    alert('Please fill in all fields');
                    return;
                }
                
                // Simulate login
                simulateLogin(email);
            });
            
            // Handle signup form submission
            signupForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const name = document.getElementById('signup-name').value;
                const email = document.getElementById('signup-email').value;
                const password = document.getElementById('signup-password').value;
                const confirmPassword = document.getElementById('signup-confirm').value;
                
                // Basic validation
                if (!name || !email || !password || !confirmPassword) {
                    alert('Please fill in all fields');
                    return;
                }
                
                if (password !== confirmPassword) {
                    alert('Passwords do not match');
                    return;
                }
                
                if (password.length < 6) {
                    alert('Password should be at least 6 characters');
                    return;
                }
                
                // Simulate signup and login
                simulateSignup(name, email);
            });
            
            // Handle logout
            logoutBtn.addEventListener('click', () => {
                authSection.style.display = 'block';
                appContent.style.display = 'none';
                resetQuizState();
            });
            
            // Forgot password
            forgotPassword.addEventListener('click', (e) => {
                e.preventDefault();
                alert('Password reset instructions have been sent to your email.');
            });
        }

        // Set up quiz event listeners
        function setupQuizEventListeners() {
            // Start quiz button
            startQuizBtn.addEventListener('click', startSelectedQuiz);
            
            // Next question button
            nextBtn.addEventListener('click', showNextQuestion);
            
            // Hint button
            hintBtn.addEventListener('click', showHint);
        }

        // Simulate login process
        function simulateLogin(email) {
            // Show loading state
            const loginBtn = loginForm.querySelector('.btn');
            loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Logging in...';
            loginBtn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                // Set user data
                const name = email.split('@')[0];
                const firstName = name.charAt(0).toUpperCase() + name.slice(1);
                userName.textContent = firstName + ' Smith';
                userAvatar.textContent = firstName.charAt(0) + 'S';
                userScore.textContent = Math.floor(Math.random() * 500) + 500;
                
                // Initialize the quiz UI
                initializeQuizUI();
                
                // Show app content
                authSection.style.display = 'none';
                appContent.style.display = 'block';
                
                // Reset button
                loginBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> Login';
                loginBtn.disabled = false;
            }, 1500);
        }
        
        // Simulate signup process
        function simulateSignup(name, email) {
            // Show loading state
            const signupBtn = signupForm.querySelector('.btn');
            signupBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating account...';
            signupBtn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                // Set user data
                const names = name.split(' ');
                const firstName = names[0];
                const lastName = names[1] || 'User';
                userName.textContent = name;
                userAvatar.textContent = (firstName.charAt(0) + (lastName.charAt(0))).toUpperCase();
                userScore.textContent = '0';
                
                // Initialize the quiz UI
                initializeQuizUI();
                
                // Show app content
                authSection.style.display = 'none';
                appContent.style.display = 'block';
                
                // Reset button
                signupBtn.innerHTML = '<i class="fas fa-user-plus"></i> Create Account';
                signupBtn.disabled = false;
                
                // Reset form
                signupForm.reset();
                
                // Switch to login tab
                tabs[0].click();
            }, 2000);
        }
        
        // Initialize the quiz UI after login
        function initializeQuizUI() {
            renderLawSelection();
            updateStats();
            
            // Reset the quiz state
            state.currentLaw = null;
            state.currentQuestion = 0;
            state.score = 0;
            state.totalQuestions = 0;
            state.correctAnswers = 0;
            state.selectedOption = null;
            state.answered = false;
            state.lawsCompleted = {};
            state.quizStarted = false;
            
            // Show welcome message
            questionText.textContent = "Welcome to the Soccer Laws Quiz! Select a law from the left and click \"Start Quiz\" to begin testing your knowledge of FIFA's official Laws of the Game.";
            optionsContainer.innerHTML = '';
            currentLawEl.textContent = "Select a law to start";
        }
        
        // Render law selection menu
        function renderLawSelection() {
            const lawTitles = [
                "Law 1: The Field of Play",
                "Law 2: The Ball",
                "Law 3: The Players",
                "Law 4: The Players' Equipment",
                "Law 5: The Referee",
                "Law 6: Other Match Officials",
                "Law 7: The Duration of the Match",
                "Law 8: The Start and Restart of Play",
                "Law 9: The Ball In and Out of Play",
                "Law 10: Determining the Outcome of a Match",
                "Law 11: Offside",
                "Law 12: Fouls and Misconduct",
                "Law 13: Free Kicks",
                "Law 14: The Penalty Kick",
                "Law 15: The Throw-in",
                "Law 16: The Goal Kick",
                "Law 17: The Corner Kick"
            ];
            
            lawsList.innerHTML = '';
            
            lawTitles.forEach((title, index) => {
                const lawNumber = index + 1;
                const card = document.createElement('div');
                card.className = 'law-card';
                if (state.currentLaw === `law${lawNumber}`) {
                    card.classList.add('active');
                }
                card.innerHTML = `
                    <div class="law-number">${lawNumber}</div>
                    <div class="law-title">${title}</div>
                `;
                card.addEventListener('click', () => selectLaw(`law${lawNumber}`));
                lawsList.appendChild(card);
            });
        }
        
        // Select a law
        function selectLaw(law) {
            state.currentLaw = law;
            renderLawSelection();
            currentLawEl.textContent = `Law ${law.replace('law', '')} - ${lawTitles[law.replace('law', '')-1].split(': ')[1]}`;
        }
        
        // Start the selected quiz
        function startSelectedQuiz() {
            if (!state.currentLaw) {
                alert("Please select a law first!");
                return;
            }
            
            state.quizStarted = true;
            state.currentQuestion = 0;
            state.selectedOption = null;
            state.answered = false;
            
            showQuestion();
        }
        
        // Display current question
        function showQuestion() {
            const questionsForLaw = questions[state.currentLaw];
            if (!questionsForLaw || state.currentQuestion >= questionsForLaw.length) {
                endLawQuiz();
                return;
            }
            
            const q = questionsForLaw[state.currentQuestion];
            questionText.textContent = q.question;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Create new options
            const letters = ['A', 'B', 'C', 'D'];
            q.options.forEach((option, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'option';
                if (state.selectedOption === index) {
                    optionEl.classList.add('selected');
                }
                optionEl.innerHTML = `
                    <div class="option-letter">${letters[index]}</div>
                    <div class="option-text">${option}</div>
                `;
                optionEl.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionEl);
            });
            
            // Update button states
            nextBtn.disabled = !state.answered;
            nextBtn.textContent = state.answered ? 'Next Question' : 'Skip Question';
        }
        
        // Handle option selection
        function selectOption(index) {
            if (state.answered) return;
            
            state.selectedOption = index;
            state.answered = true;
            
            const questionsForLaw = questions[state.currentLaw];
            const q = questionsForLaw[state.currentQuestion];
            const optionElements = optionsContainer.querySelectorAll('.option');
            
            // Add visual feedback
            optionElements.forEach((el, i) => {
                if (i === index) {
                    el.classList.add('selected');
                    if (i === q.answer) {
                        el.classList.add('correct');
                        // Update score
                        state.score += q.difficulty;
                        state.correctAnswers++;
                    } else {
                        el.classList.add('incorrect');
                    }
                } else if (i === q.answer) {
                    el.classList.add('correct');
                }
            });
            
            // Update stats
            state.totalQuestions++;
            updateStats();
            
            // Enable next button
            nextBtn.disabled = false;
        }
        
        // Show hint for current question
        function showHint() {
            if (!state.quizStarted || state.answered) return;
            
            const questionsForLaw = questions[state.currentLaw];
            const q = questionsForLaw[state.currentQuestion];
            alert(`Hint: ${q.hint}`);
        }
        
        // Show next question
        function showNextQuestion() {
            if (!state.quizStarted) return;
            
            state.currentQuestion++;
            state.selectedOption = null;
            state.answered = false;
            showQuestion();
        }
        
        // End of law quiz
        function endLawQuiz() {
            // Mark law as completed
            state.lawsCompleted[state.currentLaw] = true;
            
            // Show results
            alert(`You've completed Law ${state.currentLaw.replace('law', '')}! Your score: ${state.score} points`);
            
            // Reset for next law
            state.quizStarted = false;
            state.currentLaw = null;
            renderLawSelection();
            currentLawEl.textContent = "Select a law to start";
            questionText.textContent = "Great job! Select another law to continue, or start the same law again to improve your score.";
            optionsContainer.innerHTML = '';
        }
        
        // Reset quiz state
        function resetQuizState() {
            state.currentLaw = null;
            state.currentQuestion = 0;
            state.score = 0;
            state.totalQuestions = 0;
            state.correctAnswers = 0;
            state.selectedOption = null;
            state.answered = false;
            state.lawsCompleted = {};
            state.quizStarted = false;
        }
        
        // Update statistics display
        function updateStats() {
            currentScoreEl.textContent = state.score;
            questionsDoneEl.textContent = state.totalQuestions;
            
            const accuracy = state.totalQuestions > 0 ? 
                Math.round((state.correctAnswers / state.totalQuestions) * 100) : 0;
            accuracyEl.textContent = `${accuracy}%`;
            userScore.textContent = state.score;
        }
        
        // Law titles for display
        const lawTitles = [
            "The Field of Play",
            "The Ball",
            "The Players",
            "The Players' Equipment",
            "The Referee",
            "Other Match Officials",
            "The Duration of the Match",
            "The Start and Restart of Play",
            "The Ball In and Out of Play",
            "Determining the Outcome of a Match",
            "Offside",
            "Fouls and Misconduct",
            "Free Kicks",
            "The Penalty Kick",
            "The Throw-in",
            "The Goal Kick",
            "The Corner Kick"
        ];
        
        // Initialize when page loads
        window.onload = init;
    </script>
</body>
</html>
